{% extends "base.html" %}

{% block title %}Drawing Example{% endblock %}
{% block header_text %}Drawing Example{% endblock %}

{% block extra_body %}
    <form name="Show">
        X <input type="text" name="MouseX" value="0" size="4"><br>
        Y <input type="text" name="MouseY" value="0" size="4"><br>
    </form>
    <canvas id="DrawingCanvas" width="1000" height="500"
            style="border:1px solid #c3c3c3;">
    </canvas>

    <script language="JavaScript1.2">

        var IE = document.all?true:false;
        var MOUSE_HELD =  false;
        var canvas = document.getElementById("DrawingCanvas")
        var ctx = canvas.getContext("2d")

        if (!IE) document.captureEvents(Event.MOUSEMOVE)
        document.onmousemove = getMouseXY;
        document.onmousedown = set_mouse_down;
        document.onmouseup = set_mouse_up;
        var tempX = 0;
        var tempY = 0;
        function getMouseXY(e) {
            if (IE) { // grab the x-y pos.s if browser is IE
                tempX = event.clientX + document.body.scrollLeft;
                tempY = event.clientY + document.body.scrollTop;
            }
            else {  // grab the x-y pos.s if browser is NS
                tempX = e.pageX;
                tempY = e.pageY;
            }
            if (tempX < 0){tempX = 0;}
            if (tempY < 0){tempY = 0;}
            document.Show.MouseX.value = tempX;
            document.Show.MouseY.value = tempY;
            if (MOUSE_HELD) {
                ctx.fillRect(tempX, tempY, 1, 1 )
            }
            return true;
        }
        function set_mouse_down(e) {
            MOUSE_HELD = true;
        }
        function set_mouse_up(e) {
            MOUSE_HELD = false;
        }
    </script>
{% endblock %}